<!-- <script src="https://youthsforum.com/wp-content/uploads/2021/05/html5-qrcode.min_.js"></script> -->
<script src="./html5-qrcode.min.js"></script>
<style>

  body {
    background-color: #dbdbdb;
    font-size: 25px;
  }
  .result {
    background-color: green;
    color: #fff;
    padding: 20px; 
   
  }

  .row {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: calc(100% - 84px); 
    padding: 20px;
  }
  .col{
    width: 100%;
    margin: 10px auto;
    text-align: center;
  }

  #reader {
    width: 100%; 
  }

</style>

<br><br><br><br>
<div class="row">
  <div class="col">
    <div styles="width:500px;" id="reader"></div>
  </div>
  <div class="col" style="padding:30px;">
    <h4>SCAN RESULT</h4>
    <div id="result-code">Result Here</div>
  </div>
</div>

<h1>Lings</h1>
<a href="https://scanapp.org/">Linge 1</a>
<a href="https://miloumohamed.github.io/QRCode_Phone/#scan-using-file">Linge 2</a>




 
<script type="text/javascript">

  function onScanSuccess(qrCodeMessage) {
    document.getElementById('result-code').innerHTML = '<span class="result">' + qrCodeMessage + '</span>';
    
  }

  function onScanError(errorMessage) {
    // tu peux aussi afficher les erreurs ici si besoin
    console.log("Erreur scan : ", errorMessage);
  }

  // Détection automatique de la taille de l'écran
  const screenWidth = window.innerWidth;
  const screenHeight = window.innerHeight;

  const boxSize = Math.floor(Math.min(screenWidth, screenHeight) * 0.9); // 90% de la taille dispo

  const html5QrcodeScanner = new Html5QrcodeScanner(
    "reader", 
    {
      fps: 60,
      qrbox: { width: boxSize, height: boxSize },
      aspectRatio: screenWidth / screenHeight
    }
  );

  html5QrcodeScanner.render(onScanSuccess, onScanError);
 





  /*
  function onScanSuccess(qrCodeMessage) {
    document.getElementById('result-code').innerHTML = '<span class="result">' + qrCodeMessage + '</span>';
  }

  function onScanError(errorMessage) {
    //handle scan error
    console.log("function onScanError");
  }

//const config = { fps: 10, qrbox: { width: 250, height: 250 } };

  var html5QrcodeScanner = new Html5QrcodeScanner(
    "reader", { fps: 30, qrbox:  { width: 250, height: 250 } });
  html5QrcodeScanner.render(onScanSuccess, onScanError);
*/
</script>
